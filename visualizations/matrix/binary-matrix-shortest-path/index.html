<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CKLM4BWJFH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CKLM4BWJFH');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Matrix Shortest Path - BFS</title>
    <link rel="stylesheet" href="../../shared/css/main.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">&larr; Back to all algorithms</a>
        <h1>Binary Matrix Shortest Path</h1>
        <p class="description">Find the shortest clear path from top-left to bottom-right using 8-directional BFS</p>

        <div class="controls">
            <div class="input-group">
                <label>Grid (rows separated by ;):</label>
                <input type="text" id="gridInput" value="0,0,0;1,1,0;1,1,0" placeholder="0,0,0;1,1,0;1,1,0" style="width: 200px;">
            </div>
            <button class="btn-random" id="randomBtn">Random</button>
            <button class="btn-primary" id="resetBtn">Reset</button>
            <button class="btn-secondary" id="stepBtn">Step</button>
            <button class="btn-success" id="playBtn">Play</button>
            <div class="speed-control">
                <label>Speed:</label>
                <input type="range" id="speedSlider" min="100" max="2000" value="500">
            </div>
        </div>

        <div class="main-content">
        <div class="visualization">
            <div class="section-title">Binary Matrix</div>
            <div class="grid-container" id="gridContainer"></div>

            <div class="info-panel">
                <div class="info-box">
                    <h3>Current Cell</h3>
                    <div class="info-value" id="currentCell">-</div>
                </div>
                <div class="info-box">
                    <h3>Distance</h3>
                    <div class="info-value" id="currentDistance">-</div>
                </div>
                <div class="info-box">
                    <h3>Queue Size</h3>
                    <div class="info-value" id="queueSize">0</div>
                </div>
                <div class="info-box result-box">
                    <h3>Shortest Path</h3>
                    <div class="info-value" id="shortestPath">-</div>
                </div>
            </div>

            <div class="queue-display">
                <div class="section-title">BFS Queue</div>
                <div class="queue" id="queueDisplay">
                    <span class="empty-text">Empty</span>
                </div>
            </div>

            <div class="status" id="status">
                Click "Step" or "Play" to find the shortest path from (0,0) to (n-1,n-1)
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color blocked-legend"></div>
                    <span>Blocked (1)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color clear-legend"></div>
                    <span>Clear (0)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color start-legend"></div>
                    <span>Start</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color goal-legend"></div>
                    <span>Goal</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color current-legend"></div>
                    <span>Current</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color visited-legend"></div>
                    <span>Visited</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color path-legend"></div>
                    <span>Path</span>
                </div>
            </div>

        </div>

        <div class="code-panel">
            <div class="section-title">Python Code - BFS Approach</div>
            <div class="code-line" id="code-0">
                <span class="code-keyword">if</span> grid[<span class="code-number">0</span>][<span class="code-number">0</span>] != <span class="code-number">0</span> <span class="code-keyword">or</span> grid[n-<span class="code-number">1</span>][n-<span class="code-number">1</span>] != <span class="code-number">0</span>:
            </div>
            <div class="code-line" id="code-1">
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">return</span> -<span class="code-number">1</span>
            </div>
            <div class="code-line" id="code-2">
                <span class="code-variable">queue</span> = deque([(<span class="code-number">0</span>, <span class="code-number">0</span>, <span class="code-number">1</span>)]) <span class="code-comment"># (row, col, distance)</span>
            </div>
            <div class="code-line" id="code-3">
                <span class="code-keyword">while</span> <span class="code-function">len</span>(queue) > <span class="code-number">0</span>:
            </div>
            <div class="code-line" id="code-4">
                &nbsp;&nbsp;&nbsp;&nbsp;i, j, dist = queue.<span class="code-function">popleft</span>()
            </div>
            <div class="code-line" id="code-5">
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">if</span> in_bounds <span class="code-keyword">and</span> grid[i][j] == <span class="code-number">0</span> <span class="code-keyword">and not</span> visited[i][j]:
            </div>
            <div class="code-line" id="code-6">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visited[i][j] = <span class="code-keyword">True</span>
            </div>
            <div class="code-line" id="code-7">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">if</span> i == n-<span class="code-number">1</span> <span class="code-keyword">and</span> j == n-<span class="code-number">1</span>: <span class="code-keyword">return</span> dist
            </div>
            <div class="code-line" id="code-8">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">for</span> di, dj <span class="code-keyword">in</span> directions: <span class="code-comment"># 8 directions</span>
            </div>
            <div class="code-line" id="code-9">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queue.<span class="code-function">append</span>((i+di, j+dj, dist+<span class="code-number">1</span>))
            </div>
            <div class="code-line" id="code-10">
                <span class="code-keyword">return</span> -<span class="code-number">1</span> <span class="code-comment"># no path found</span>
            </div>
        </div>
        </div>

        <div class="complexity-section">
            <input type="checkbox" id="complexity-toggle" class="complexity-toggle-input" checked>
            <label for="complexity-toggle" class="complexity-header">
                <span class="complexity-title">Complexity Analysis</span>
                <span class="complexity-icon"></span>
            </label>
            <div class="complexity-content">
                <input type="radio" id="tab-time" name="complexity-tab" class="complexity-tab-input" checked>
                <input type="radio" id="tab-space" name="complexity-tab" class="complexity-tab-input">
                <div class="complexity-columns">
                    <div class="complexity-stats">
                        <label for="tab-time" class="complexity-item">
                            <span class="complexity-label">Time Complexity</span>
                            <span class="complexity-value">O(m × n)</span>
                        </label>
                        <label for="tab-space" class="complexity-item">
                            <span class="complexity-label">Space Complexity</span>
                            <span class="complexity-value">O(m × n)</span>
                        </label>
                    </div>
                    <div class="complexity-explanation">
                        <div class="complexity-detail time-detail">
                            <h4 class="detail-title">Time Complexity: <span class="big-o">O(m × n)</span></h4>
                            <div class="detail-section">
                                <div class="detail-section-title">Breakdown</div>
                                <div class="detail-content">
                                    <ul class="detail-list">
                                        <li>Each cell dequeued at most once</li>
                                        <li>8 neighbors checked per cell: O(1)</li>
                                        <li>Queue operations (enqueue/dequeue): O(1)</li>
                                        <li>Total edges explored: ≤ 8 × m × n</li>
                                    </ul>
                                    <div class="detail-formula">T(m,n) = O(V + E) = O(m×n + 8×m×n) = O(m × n)</div>
                                </div>
                            </div>
                            <div class="detail-section">
                                <div class="detail-section-title">Mathematical Intuition</div>
                                <div class="detail-content">
                                    <p>BFS visits vertices in order of increasing distance from the source—a property called "level-order traversal." For unweighted graphs, this guarantees that the first time we reach any vertex, we've found the shortest path. The 8-directional movement treats diagonal steps as having the same cost as orthogonal steps.</p>
                                </div>
                            </div>
                            <div class="detail-insight">
                                <span class="detail-insight-label">Key Insight</span>
                                <p>BFS is optimal for unweighted shortest paths. For weighted grids, use Dijkstra's algorithm with a priority queue (O(m×n log(m×n))).</p>
                            </div>
                        </div>
                        <div class="complexity-detail space-detail">
                            <h4 class="detail-title">Space Complexity: <span class="big-o">O(m × n)</span></h4>
                            <div class="detail-section">
                                <div class="detail-section-title">Breakdown</div>
                                <div class="detail-content">
                                    <ul class="detail-list">
                                        <li>Queue storage: O(m × n) worst case</li>
                                        <li>Visited/distance array: O(m × n)</li>
                                        <li>Path reconstruction (optional): O(m × n)</li>
                                        <li>Typical queue size: O(min(m, n))</li>
                                    </ul>
                                    <div class="detail-formula">S(m,n) = O(m × n) for visited array + queue</div>
                                </div>
                            </div>
                            <div class="detail-section">
                                <div class="detail-section-title">Mathematical Intuition</div>
                                <div class="detail-content">
                                    <p>The visited array prevents revisiting cells and can store distances for path length queries. The queue holds the BFS frontier—at most all cells in worst case, but typically bounded by the perimeter of the explored region, which is O(√(m×n)) for compact shapes.</p>
                                </div>
                            </div>
                            <div class="detail-insight">
                                <span class="detail-insight-label">Key Insight</span>
                                <p>Bidirectional BFS from both source and destination can reduce explored cells from O(m×n) to O(√(m×n)) in practice by meeting in the middle.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../shared/js/visualizer.js"></script>
    <script src="script.js"></script>
</body>
</html>
